# Markdown-Account-Book
基于 Python &amp; Github Action &amp; Markdown 的在线记账工具

## 如何使用
1. Fork仓库
2. 前往 https://github.com/settings/tokens 获取一个 token 并授予 repo 操作权限
3. 仓库设置里添加 Secret ，名称为 MAB_TOKEN，值为第二步的 token
4. 添加 Action 脚本：
```
name: MAB

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v2

      - name: Setup Python
        uses: actions/setup-python@v4.0.0
        with: 
          python-version: 3.9.13
        
      - name: MAB
        run: python \markdown_account_book.py
        
      - name: Commit changes
        uses: EndBug/add-and-commit@v4
        with:
          author_name: MAB
          author_email: mab@uof.edu.kg
          message: "Generated by MAB."
          add: "*.md"
        env:
          GITHUB_TOKEN: ${{ secrets.MAB_TOKEN }}

```
5. 修改 source.md 进行记账，进行一次 commit 即可看到效果

# Demo：
# University Of Fool 账本
**>> 生成于 2022/06/23 08:55**
|余额|
|-|
|111.42|
## 分类统计
|分类|帐单数|收入|支出|结余|
|-|-|-|-|-|
|服务器|4|+114.42|0.00|+114.42|
|UOF|1|0.00|-3.00|-3.00|
## 标签统计
|标签|帐单数|收入|支出|结余|
|-|-|-|-|-|
|Server|4|+114.42|0.00|+114.42|
|ATOP|5|+114.42|-3.00|+111.42|
|rua|1|0.00|-3.00|-3.00|
|Potato|1|0.00|-3.00|-3.00|
|草|1|+100.00|0.00|+100.00|
## 全部账单
|时间|收支类型|操作者|分类|标签|备注|金额|
|-|-|-|-|-|-|-|
|2022/06/23 10:41|收入|RLt|服务器|ATOP,Server|EXAMPLE_DELETE_ME_AFTER_TEST|+6.71|
|2022/06/23 23:39|收入|RLt|服务器|ATOP,Server|1USD|+6.71|
|2022/06/23 10:41|支出|RLt|UOF|ATOP,Potato,rua|EXAMPLE_DELETE_ME_AFTER_TEST|-3.00|
|2022/06/23 23:40|收入|RLt|服务器|ATOP,Server|EXAMPLE_DELETE_ME_AFTER_TEST|+1.00|
|2022/06/23 16:21|收入|RLt|服务器|ATOP,草,Server|EXAMPLE_DELETE_ME_AFTER_TEST|+100.00|
---
![](https://img.shields.io/badge/Team-UOF-red)&ensp;
![](https://img.shields.io/badge/Generated%20by-MAB-blueviolet)
